"use strict";const r=require("electron");console.log("Preload script loaded");r.contextBridge.exposeInMainWorld("electronAPI",{selectDirectory:()=>r.ipcRenderer.invoke("select-directory"),readResults:e=>r.ipcRenderer.invoke("read-results",e),readGroups:e=>r.ipcRenderer.invoke("read-groups",e),startCompute:e=>r.ipcRenderer.send("start-compute",e),cancelCompute:()=>r.ipcRenderer.send("cancel-compute"),startGroup:e=>r.ipcRenderer.send("start-group",e),cancelGroup:()=>r.ipcRenderer.send("cancel-group"),checkModels:e=>r.ipcRenderer.send("check-models",e??{}),writeXmp:e=>r.ipcRenderer.send("write-xmp",e),openExternal:e=>r.ipcRenderer.invoke("open-external",e),setWindowTheme:e=>r.ipcRenderer.send("set-window-theme",e),minimize:()=>r.ipcRenderer.send("window-minimize"),maximize:()=>r.ipcRenderer.send("window-maximize"),close:()=>r.ipcRenderer.send("window-close"),openPreferencesWindow:()=>r.ipcRenderer.send("open-preferences-window"),onComputeProgress:e=>{const n=(d,o)=>e(o);return r.ipcRenderer.on("compute-progress",n),()=>r.ipcRenderer.off("compute-progress",n)},onComputeDone:e=>{const n=(d,o)=>e(o);return r.ipcRenderer.on("compute-done",n),()=>r.ipcRenderer.off("compute-done",n)},onGroupProgress:e=>{const n=(d,o)=>e(o);return r.ipcRenderer.on("group-progress",n),()=>r.ipcRenderer.off("group-progress",n)},onGroupDone:e=>{const n=(d,o)=>e(o);return r.ipcRenderer.on("group-done",n),()=>r.ipcRenderer.off("group-done",n)},onWriteXmpProgress:e=>{const n=(d,o)=>e(o);return r.ipcRenderer.on("write-xmp-progress",n),()=>r.ipcRenderer.off("write-xmp-progress",n)},onWriteXmpDone:e=>{const n=(d,o)=>e(o);return r.ipcRenderer.on("write-xmp-done",n),()=>r.ipcRenderer.off("write-xmp-done",n)},onCheckModelsProgress:e=>{const n=(d,o)=>e(o);return r.ipcRenderer.on("check-models-progress",n),()=>r.ipcRenderer.off("check-models-progress",n)},onCheckModelsDone:e=>{const n=(d,o)=>e(o);return r.ipcRenderer.on("check-models-done",n),()=>r.ipcRenderer.off("check-models-done",n)},onError:e=>{const n=(d,o)=>e(o);return r.ipcRenderer.on("app-error",n),()=>r.ipcRenderer.off("app-error",n)},logInfo:e=>r.ipcRenderer.send("log-info",e),logError:e=>r.ipcRenderer.send("log-error",e)});
